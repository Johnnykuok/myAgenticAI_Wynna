# CLAUDE.md

此文件为Claude Code (claude.ai/code) 在此代码库中工作时提供指导。

## 项目概述

本项目的工作流程如 /Users/guohuanjun/Downloads/myagent_1/my_agent_flow.png 所示，每一个当前步骤都要按照/Users/guohuanjun/Downloads/myagent_1/my_agent_flow.png 所示，向用户可视化展示当前进度。

这是一个基于Python的AI智能体，使用OpenAI的函数调用机制，配合火山引擎/字节跳动的豆包模型。

本智能体通过外部工具,如天气信息、时间查询功能和图片生成等工具扩展其能力。

本智能体拥有用户消息的历史记忆功能，可以记住用户的历史消息。

本智能体拥有任务拆解和规划的能力。

本智能体在收到用户消息后会进行判断：如果用户询问的是简单且常规的聊天类问题，如“现在几点了”，“杭州天气如何”，“你叫什么名字”等等，则本智能体仅充当一个chatBot聊天机器的角色。如果用户询问的问题非常复杂，如“为我生成一份8月去上海的旅游攻略”，“为我翻译这篇网页”等，则本智能体变成taskPlanning的角色，首先进行任务拆解，将拆解的todo项交给用户确认。

用户在确认todo项后，由任务分配节点读取todo.md，然后将每个to-do项分配给能力最合适的子Agent节点执行。在子Agent节点执行完成后，任务分配节点会更新todo.md文件，将执行完成的todo项标记为完成。

在to-do项全部完成后，将所有子Agent的输出交由任务汇总与生成节点来做读取、处理，最终汇总为完整的输出。

## 测试
每次开发完毕后应测试。如果测试未满足需求，必须详细检查代码的bug并修改。